
clear()

# Primeira rodada: planta em todas as posições
for col in range(get_world_size()):
    if col % 2 == 0:
        for row in range(get_world_size()):
            if get_entity_type() != Entities.Bush:
                plant(Entities.Bush)
            if row < get_world_size() - 1:
                move(North)
    else:
        for row in range(get_world_size()-1, -1, -1):
            if get_entity_type() != Entities.Bush:
                plant(Entities.Bush)
            if row > 0:
                move(South)
    if col < get_world_size() - 1:
        move(East)
# Garante retorno para (0,0) após plantar tudo
for _ in range(get_world_size() - 1):
    move(South)
for _ in range(get_world_size() - 1):
    move(West)

# Loop infinito para o drone trabalhar continuamente
while True:
    for col in range(get_world_size()):
        if col % 2 == 0:
            for row in range(get_world_size()):
                while not (get_entity_type() == Entities.Bush and can_harvest()):
                    pass
                harvest()
                plant(Entities.Bush)
                if row < get_world_size() - 1:
                    move(North)
        else:
            for row in range(get_world_size()-1, -1, -1):
                while not (get_entity_type() == Entities.Bush and can_harvest()):
                    pass
                harvest()
                plant(Entities.Bush)
                if row > 0:
                    move(South)
        if col < get_world_size() - 1:
            move(East)
    for _ in range(get_world_size() - 1):
        move(West)
    for _ in range(get_world_size() - 1):
        move(South)